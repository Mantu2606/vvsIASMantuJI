@model FossTech.Models.Logo

@{
    ViewData["Title"] = "Create";
}

    <div class="col-sm-12">
        <!-- Basic Form Inputs card start -->
        <div class="card">
            @*<div class="card-header">

                <h1>Create</h1>
               
                <hr />
                <div asp-validation-summary="All" class="text-danger"></div>
              

            </div>*@
            <div class="card-body">
                <form asp-action="Create" enctype="multipart/form-data">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="row">
                        <div class="col-md-6">

                            <div class="form-group mb-3">
                                <label asp-for="HeaderLogo" class="control-label"></label>
                            <input name="logo" type="file" accept="image/*" class="form-control" onchange="checkLogoSize(event)" />
                                <span asp-validation-for="HeaderLogo" class="text-danger"></span> <br />
                                <span>
                                    Supported format: .jpeg, .png or .gif <br />
                                    Recommended dimension: Square (200x200 px) <br />
                                    Max file size:500 KB <br />
                                    Note:Keep the background white or transparant (in png). For bigger display, remove all padding from the main object in your logo.
                                </span>
                            </div>
                        </div>
                        <div class="col-md-6">

                            <div class="form-group mb-3">
                                <label asp-for="Favicon" class="control-label"></label>
                            <input name="favicon" type="file" accept="image/*" class="form-control" onchange="checkFaciconSize(event)" />
                                <span asp-validation-for="Favicon" class="text-danger"></span>
                                <br />
                                <span>
                                    Supported format: .jpeg, .png or .gif <br />
                                    Recommended dimension: Square (16x16 px) <br />
                                    Max file size:500 KB <br />
                                </span>

                            </div>
                        </div>
                    </div>
                    <div class="form-group ">
                        <input type="submit" value="Create" class="btn btn-primary" />
                    </div>
                </form>
            </div>
        </div>

        <div class="mt-3">
             <a asp-action="Index" class="btn btn-info">Go Back</a>
        </div>

</div>
@section Scripts{
    <script>
        function checkLogoSize(event) {
            const fileInput = event.target;
            if (fileInput.files && fileInput.files[0]) {
                const fileSize = fileInput.files[0].size; // Size in bytes
                const maxSize = 250 * 1024; // 250KB in bytes

                const errorMessageSpan = document.querySelector('[data-valmsg-for="HeaderLogo"]');
                if (fileSize > maxSize) {
                    errorMessageSpan.textContent = "Please upload an image size up to 250KB.";
                    // Clear the file input to prevent submitting the form with an oversized image
                    fileInput.value = null;
                } else {
                    errorMessageSpan.textContent = ""; // Clear any previous error message
                }
            }
        }
                // onchange = "checkImageSize(event)"
    </script>
    <script>
        function checkFaviconSize(event) {
            const fileInput = event.target;
            if (fileInput.files && fileInput.files[0]) {
                const fileSize = fileInput.files[0].size; // Size in bytes
                const maxSize = 250 * 1024; // 250KB in bytes

                const errorMessageSpan = document.querySelector('[data-valmsg-for="Favicon"]');
                if (fileSize > maxSize) {
                    errorMessageSpan.textContent = "Please upload an image size up to 250KB.";
                    // Clear the file input to prevent submitting the form with an oversized image
                    fileInput.value = null;
                } else {
                    errorMessageSpan.textContent = ""; // Clear any previous error message
                }
            }
        }
                        // onchange = "checkImageSize(event)"
    </script>
}